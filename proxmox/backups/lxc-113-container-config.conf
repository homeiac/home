#<div align='center'>
#  <a href='https%3A//Helper-Scripts.com' target='_blank' rel='noopener noreferrer'>
#    <img src='https%3A//raw.githubusercontent.com/community-scripts/ProxmoxVE/main/misc/images/logo-81x112.png' alt='Logo' style='width%3A81px;height%3A112px;'/>
#  </a>
#
#  <h2 style='font-size%3A 24px; margin%3A 20px 0;'>Frigate LXC</h2>
#
#  <p style='margin%3A 16px 0;'>
#    <a href='https%3A//ko-fi.com/community_scripts' target='_blank' rel='noopener noreferrer'>
#      <img src='https%3A//img.shields.io/badge/&#x2615;-Buy us a coffee-blue' alt='spend Coffee' />
#    </a>
#  </p>
#
#  <span style='margin%3A 0 10px;'>
#    <i class="fa fa-github fa-fw" style="color%3A #f5f5f5;"></i>
#    <a href='https%3A//github.com/community-scripts/ProxmoxVE' target='_blank' rel='noopener noreferrer' style='text-decoration%3A none; color%3A #00617f;'>GitHub</a>
#  </span>
#  <span style='margin%3A 0 10px;'>
#    <i class="fa fa-comments fa-fw" style="color%3A #f5f5f5;"></i>
#    <a href='https%3A//github.com/community-scripts/ProxmoxVE/discussions' target='_blank' rel='noopener noreferrer' style='text-decoration%3A none; color%3A #00617f;'>Discussions</a>
#  </span>
#  <span style='margin%3A 0 10px;'>
#    <i class="fa fa-exclamation-circle fa-fw" style="color%3A #f5f5f5;"></i>
#    <a href='https%3A//github.com/community-scripts/ProxmoxVE/issues' target='_blank' rel='noopener noreferrer' style='text-decoration%3A none; color%3A #00617f;'>Issues</a>
#  </span>
#</div>
#
# Working Frigate LXC config with Coral USB TPU passthrough
# Host: fun-bedbug.maas (LXC 113)
# Last verified: 2025-12-08
#
# IMPORTANT: The dev0 device path changes when Coral is replugged!
# After replugging Coral USB, run: lsusb | grep -i google
# Then update dev0 line below with new device number (e.g., 003/009 -> 003/0XX)
#
arch: amd64
cores: 4
# Coral USB TPU passthrough - UPDATE DEVICE NUMBER AFTER REPLUG
dev0: /dev/bus/usb/003/009
features: nesting=1
hostname: frigate
memory: 4096
mp0: local-3TB-backup:subvol-113-disk-0,mp=/media,backup=1,mountoptions=noatime,size=500G
net0: name=eth0,bridge=vmbr0,hwaddr=BC:24:11:1F:05:27,ip=dhcp,type=veth
onboot: 1
ostype: debian
rootfs: local:113/vm-113-disk-0.raw,size=20G
swap: 512
tags: community-script;nvr
# Allow all devices (required for USB passthrough)
lxc.cgroup2.devices.allow: a
lxc.cap.drop:
# USB device permissions (major 188=ttyUSB, 189=USB)
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
# Serial device mounts (optional)
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
# GPU/DRI passthrough for VAAPI hardware acceleration (AMD Radeon R5)
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file
