# ProviderConfig for Proxmox
# NOTE: Requires secret 'proxmox-credentials' to exist in crossplane-system namespace
# Create with: kubectl create secret generic proxmox-credentials -n crossplane-system \
#   --from-literal=api_token='root@pam!provision-manage-vms=YOUR_TOKEN' \
#   --from-literal=endpoint='https://pumped-piglet.maas:8006'
#
# Or use scripts/crossplane/create-proxmox-secret.sh
---
apiVersion: proxmox.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      name: proxmox-credentials
      namespace: crossplane-system
      key: api_token
  # Proxmox API endpoint (any node in cluster)
  endpoint:
    secretRef:
      name: proxmox-credentials
      namespace: crossplane-system
      key: endpoint
  # Skip TLS verification for self-signed certs (common in homelab)
  insecure: true
